<div class="container  " *ngIf="listar?.length>0" >

  <mat-card class="mt-3 " style="background: rgba(119, 134, 134, 0.205);">
    <mat-card-header *ngIf="listar">
      <mat-card-title class=" bg-light p-4 mat-elevation-z8" style="color: rgb(4, 24, 43);">{{titulo}}</mat-card-title>
    </mat-card-header>
    <div class="alert alert-info" *ngIf="listar?.length==0">
      No hay alumnos en el sistema.
    </div>
    <mat-card-content class="mx-2">
      <mat-card>
        <mat-form-field>
          <mat-label class="text-dark">Buscar</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
        </mat-form-field>
      </mat-card>
      <div class="example-container mat-elevation-z8 my-2" *ngIf="listar?.length>0">
        <table mat-table [dataSource]="dataSource" class="my-2" id="excel-table">
          <ng-container matColumnDef="id" sticky>
            <th mat-header-cell *matHeaderCellDef> Matricula</th>
            <td mat-cell *matCellDef="let alumno"> {{alumno.matricula}} </td>
          </ng-container>

          <!-- nombre Column -->
          <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let alumno"> {{alumno.nombre}} </td>
          </ng-container>

          <!-- apellido Column -->
          <ng-container matColumnDef="apellido">
            <th mat-header-cell *matHeaderCellDef> apellido </th>
            <td mat-cell *matCellDef="let alumno"> {{alumno.apellido}} </td>
          </ng-container>

          <!-- correo Column -->
          <ng-container matColumnDef="correo">
            <th mat-header-cell *matHeaderCellDef> correo </th>
            <td mat-cell *matCellDef="let alumno"> {{alumno.correo}} </td>
          </ng-container>

          <!-- carrera Column -->
          <ng-container matColumnDef="carrera">
            <th mat-header-cell *matHeaderCellDef> carrera </th>
            <td mat-cell *matCellDef="let alumno"> {{alumno.carrera}} </td>
          </ng-container>

          <!-- semestre Column -->
          <ng-container matColumnDef="semestre">
            <th mat-header-cell *matHeaderCellDef> semestre </th>
            <td mat-cell *matCellDef="let alumno"> {{alumno.semestre}} ({{alumno.grupo}}) </td>
          </ng-container>

          <!-- promAsistencia Column -->
          <ng-container matColumnDef="promAsistencia">
            <th mat-header-cell *matHeaderCellDef> Asistencia </th>
            <td mat-cell *matCellDef="let alumno"> ({{alumno.promAsistencia}}) </td>
          </ng-container>

          <ng-container matColumnDef="editar">
            <th mat-header-cell *matHeaderCellDef>Editar</th>
            <td mat-cell *matCellDef="let alumno">
              <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-mini-fab color="primary"
                [routerLink]="['/alumnos/form',alumno.id]" routerLinkActive="router-link-active">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd"
                    d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                </svg>
              </button>
            </td>
          </ng-container>
          <ng-container matColumnDef="eliminar">
            <th mat-header-cell *matHeaderCellDef>Eliminar</th>
            <td mat-cell *matCellDef="let alumno">
              <button *ngIf="authService.hasRole('ROLE_ADMIN')" mat-mini-fab color="warn"
                (click)="eliminar(alumno)">x</button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="mostrarColumnasAlumnos"></tr>
          <tr mat-row *matRowDef="let row; columns: mostrarColumnasAlumnos;"></tr>
        </table>

      </div>
      <button mat-raised-button (click)="exportexcel()" class="colorBtn">Exportar Excel</button>
    </mat-card-content>
  </mat-card>
  <div class="mat-elevation-z8 my-2">
    <mat-paginator [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>
  </div>
</div>
