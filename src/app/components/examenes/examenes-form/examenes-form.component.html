<div class="container">

  <mat-card>
    <mat-card-header>
      <mat-card-title class="">{{titulo}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>

      <mat-form-field color="accent" class="fondoBlanco w-100">
        <input matInput placeholder="Nombre de la Evalucacion" required name="nombre" id="nombre"
          [(ngModel)]="model.nombre">
        <mat-hint>
          <div style="color: red;" *ngIf="error?.nombre">{{ error.nombre }}</div>
        </mat-hint>
      </mat-form-field>

      <div class="fondoBlanco p-1 ">
        <div class="container my-3">
          <div class="row">
            <div class="col-4">
              <mat-form-field appearance="outline">
                <mat-label>Tipo Respuesta</mat-label>
                <mat-select [(ngModel)]="type" name="t">
                  <mat-option *ngFor="let t of tipo" [value]="t.valor">
                    {{t.muestraValor}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-8">
              <button mat-raised-button (click)="agregarPregunta()" class="btn-lg zoom ">
                Agregar Pregunta
              </button>
            </div>
          </div>
        </div>
        <div class="form-group my-2" *ngFor="let pregunta of model?.preguntas; let i = index">

          <div class="row">
            <div class="col-sm-1 col-md-1">
              <label class="tam-index">{{i+1}}:</label>
            </div>
            <div class="col-sm-5 col-md-7">
              <input type="text" value="{{pregunta?.texto}}" class="form-control"
                (change)="asignarTexto(pregunta, $event)">


            </div>
            <div class="col">
              <label class="tam-index">{{pregunta.tipo}}</label>
            </div>
            <div class="col">
              <button class="btn btn-danger btn-sm" (click)="eliminarPregunta(pregunta)">
                x
              </button>
            </div>
          </div>
        </div>
        <div class="alert alert-danger" *ngIf="errorPreguntas">
          {{ errorPreguntas }}
        </div>
      </div>

    </mat-card-content>
    <mat-card-actions>
      <div>
        <button mat-raised-button (click)="model.id? editar(): crear()" class="w-100 zoom btn-azul">
          {{ model.id? 'Editar': 'Crear' }}
        </button>
      </div>
      <div>
        <button mat-raised-button class="w-100 fondoVolver zoom btn-azul" routerLink="/examenes">volver</button>
      </div>
    </mat-card-actions>
  </mat-card>

</div>
